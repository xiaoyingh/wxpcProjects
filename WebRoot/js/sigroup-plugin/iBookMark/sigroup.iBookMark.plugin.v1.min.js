var iBookMark={contentId:null,isVisible:!1,offset:0,duration:300,html:'<div id="sideToolbar"><div id="sideCatalog" class="sideCatalogBg" style="display:none;"><div id="sideCatalog-sidebar"><div class="sideCatalog-sidebar-top"></div><div class="sideCatalog-sidebar-bottom"></div></div><div id="sideCatalog-updown" style="display:none;"><div id="sideCatalog-up" class="sideCatalog-up-enable" title="\u5411\u4e0a\u7ffb\u9875"></div><div id="sideCatalog-down" class="sideCatalog-down-enable" title="\u5411\u4e0b\u7ffb\u9875"></div></div><div id="sideCatalog-catalog"><dl style="zoom:1;margin:0;"></dl></div></div><a id="sideCatalogBtn" class="sideCatalogBtnDisable" href="javascript:;" title="\u76ee\u5f55" ></a><a id="sideToolbar-up" href="javascript:;" title="\u8fd4\u56de\u9876\u90e8" style="display:none;"></a></div>',init:function(){if(iBookMark.contentId){var a=$("#"+iBookMark.contentId);a.after(iBookMark.html);var b=$("#sideCatalog-catalog").find("dl");$(".sideToolbar-title",a).each(function(a,c){var d=$(c).attr("name"),e=$(c).data("title"),f=d.indexOf("_")>-1?2:1,g="<dd class='sideCatalog-item"+f+"' id='sideToolbar-item-0-"+d+"' ><span class='sideCatalog-index"+f+"'>"+d.replace("_",".")+"</span><a href='#"+d+"' class='nslog:1026' title='"+e+"' onclick='return false;'>"+e+"</a><span class='sideCatalog-dot'></span>";if(f==1){if(a==0){g+="<div class='on_off_head' ><div class='on_off' style='visibility:hidden;'><span name='on_off_span' class='on_click' auth_code='"+a+"'>ON</span><p></p></div></div>"}else{g+="<div class='on_off_head' ><div class='on_off'><span name='on_off_span' class='on_click' auth_code='"+a+"'>ON</span><p></p></div></div>"}}g+="</dd>";b.append(g)}),1==iBookMark.isVisible&&($("#sideCatalog").show(),$("#sideCatalogBtn").removeClass("sideCatalogBtnDisable")),iBookMark.bind_event()}},bind_event:function(){$("#sideCatalog-catalog").on("click","a",function(){var a=$(this);iBookMark.set_position(a)}),$("#sideCatalog-catalog").on("click",".on_off",function(){var a=$(this).find("span");$("[auth_for_show_hide='"+(parseInt($(a).attr("auth_code"))+1)+"']").toggle();if($(a).is(".on_click")){$(a).removeClass("on_click").addClass("off_click").text("OFF")}else if($(a).is(".off_click")){$(a).removeClass("off_click").addClass("on_click").text("ON")}$(this).find("p").toggleClass("when_off")}),$("#sideCatalog-catalog").on("click",".sideCatalog-dot",function(){var a=$(this).prev("a");iBookMark.set_position(a)}),$("#sideCatalog").on("mouseenter",function(){}).on("mouseleave",function(){$("#sideCatalog-updown").hide()}),$("#sideCatalog-up").on("click",function(){$("#sideCatalog-catalog").stop(!0,!1).animate({scrollTop:$("#sideCatalog-catalog").scrollTop()-50},iBookMark.duration,function(){iBookMark.is_reach_side()})}),$("#sideCatalog-down").on("click",function(){$("#sideCatalog-catalog").stop(!0,!1).animate({scrollTop:$("#sideCatalog-catalog").scrollTop()+50},iBookMark.duration,function(){iBookMark.is_reach_side()})}),$("#sideCatalog-sidebar").on("click",".sideCatalog-sidebar-top",function(){$("#sideCatalog-catalog").stop(!0,!1).animate({scrollTop:0},iBookMark.duration),iBookMark.is_reach_side()}),$("#sideCatalogBtn").on("click",function(){$("#sideCatalog").is(":visible")?($("#sideCatalog").hide(),$("#sideCatalogBtn").addClass("sideCatalogBtnDisable")):($("#sideCatalog").show(),$("#sideCatalogBtn").removeClass("sideCatalogBtnDisable"))}),$("#sideToolbar-up").on("click",function(){$("body").stop(!0,!1).animate({scrollTop:0},iBookMark.duration,function(){$("#sideCatalog-catalog dd:eq(0)").addClass("sideCatalog-item1-highlight").siblings().removeClass("sideCatalog-item1-highlight")})}),$(document).on("scroll",function(){var a=$("body").scrollTop(),b=[];if(a==0){$("#sideToolbar-up").hide()}else{$("#sideToolbar-up").show()}if($(".sideToolbar-title[name]").each(function(c,d){var e=$(d).offset().top-iBookMark.offset;return a>=e?(b=$(d),void 0):!1}),b.length){var c=b.attr("name");if(c){var d=$("#sideToolbar-item-0-"+c);d.addClass("sideCatalog-item1-highlight").siblings().removeClass("sideCatalog-item1-highlight");var e=d.position().top;$("#sideCatalog-catalog").stop(!0,!1).animate({scrollTop:e-$("#sideCatalog-catalog").height()/2},iBookMark.duration,function(){iBookMark.is_reach_side()})}}})},is_reach_side:function(){var a=$("#sideCatalog-catalog").scrollTop();0>=a?$("#sideCatalog-up").addClass("sideCatalog-up-disable").removeClass("sideCatalog-up-enable"):$("#sideCatalog-up").removeClass("sideCatalog-up-disable").addClass("sideCatalog-up-enable"),a+$("#sideCatalog-catalog").height()>=$("#sideCatalog-catalog").find("dl").height()?$("#sideCatalog-down").addClass("sideCatalog-down-disable").removeClass("sideCatalog-down-enable"):$("#sideCatalog-down").removeClass("sideCatalog-down-disable").addClass("sideCatalog-down-enable")},set_position:function(a){var b=a.attr("href").substring(1),c=$(".sideToolbar-title[name="+b+"]").offset().top-iBookMark.offset;$("body").stop(!0,!1).animate({scrollTop:c},iBookMark.duration,function(){a.closest("dd").addClass("sideCatalog-item1-highlight").siblings().removeClass("sideCatalog-item1-highlight")})}};